#pragma once
#ifndef FUNC_H
#define FUNC_H


typedef struct Cornice {

    int length;         // Длина карниза (в мм)
    int ceilingWidth;   // Ширина по потолку (в мм)  
    int wallHeight;     // Высота по стене (в мм)
    char material[20];  // Материал изготовления

} cornice_t;



//Назначение: Генерирует случайное целое число в заданном диапазоне.
//Параметры :
//    min - минимальное значение(включительно)
//    max - максимальное значение(включительно)
//Возвращает : Случайное число от min до max
int getRandomNumber(int min, int max);


//Назначение: Генерирует случайное название материала из предопределенного списка.
//Параметры :
//    str - указатель на строку для записи результата
//    max_len - максимальная длина строки
//Список материалов : Дерево, Алюминий, Пластик, Композит, Пенопласт, Сталь, Металл.
void getRandomString(char* str, int max_len);


//
//Назначение: Заполняет массив структур случайными значениями.
//Параметры :
//    cornices - указатель на массив структур
//    size - количество элементов для заполнения
//Примечание : Автоматически вызывает srand(time(NULL)) для инициализации генератора случайных чисел.
void fill_array_random(cornice_t* cornices, int size);



//Назначение: Выводит на экран одну запись о карнизе в форматированном виде.
//Параметры : cornice - структура с данными о карнизе.
//Формат вывода : | Длина | Ширина | Высота | Материал |
void print_cornice(cornice_t cornice);




//Назначение: Выводит таблицу со всеми записями массива.
//Параметры :
//    cornices - указатель на массив структур
//    size - количество элементов в массиве
//    Особенности : Выводит заголовок таблицы и сообщает, если массив пуст.
void print_array(cornice_t* cornices, int size);



//Назначение: Редактирует выбранную запись в массиве.
//Параметры :
//    cornices - указатель на массив структур
//    size - текущий размер массива
//Процесс : Запрашивает номер записи, показывает текущие значения, позволяет ввести новые.
void edit_record(cornice_t* cornices, int size);



//Назначение: Поиск по длине карниза.
//Параметры :
//    cornices - указатель на массив структур
//    size - текущий размер массива
//    length - параметр длинны для поиска
//Возвращает: Указатель на найденную структуру или NULL если не найдено.
cornice_t* search_length(cornice_t* cornices, int size, int length);



//Назначение: Поиск по высоте по стене карниза.
//Параметры :
//    cornices - указатель на массив структур
//    size - текущий размер массива
//    wallHeight - параметр высоты по стене для поиска
//Возвращает: Указатель на найденную структуру или NULL если не найдено.
cornice_t* search_wallHeight(cornice_t* cornices, int size, int wallHeight);



//Назначение: Поиск по ширине по потолку карниза.
//Параметры :
//    cornices - указатель на массив структур
//    size - текущий размер массива
//    ceilingWidth - параметр ширины по потолку для поиска
//Возвращает: Указатель на найденную структуру или NULL если не найдено.
cornice_t* search_ceilingWidth(cornice_t* cornices, int size, int ceilingWidth);

//Назначение: Поиск по материалу карниза.
//Параметры :
//    cornices - указатель на массив структур
//    size - текущий размер массива
//    material - параметр материала поиска
//Возвращает: Указатель на найденную структуру или NULL если не найдено.
cornice_t* search_material(cornice_t* cornices, int size, char* material);




//Назначение: Интерактивная функция поиска с выбором критерия.
//Параметры :
//    cornices - указатель на массив структур
//    size - количество элементов
//Меню поиска : Предлагает выбрать поле для поиска(длина, ширина, высота, материал).
void search_record(cornice_t* cornices, int size);



//Функция сравнения для qsort()
//Сравнение по длине ? ширине ? высоте(иерархическая сортировка)
int compare(const void* a, const void* b);



//Функция сравнения для qsort()
//Сравнение по площади(длина ? ширина)
int compare_area(const void* a, const void* b);



//Функция сравнения для qsort()
//Сравнение по материалу(лексикографическое)
int compare_material(const void* a, const void* b);




//Назначение: Сортирует массив по выбранному критерию.
//Параметры :
//    cornices - указатель на массив
//    size - количество элементов
//    key_sort - критерий сортировки(1 - 3)
//Критерии:
//    Длина ? Ширина ? Высота
//    Площадь(Длина ? Ширина)
//    Материал
void sort_array(cornice_t* cornices, int size, int key_sort);



//Назначение: Сохраняет массив структур в текстовый файл.
//Параметры :
//    filename - имя файла для сохранения
//    arr - указатель на массив
//    n - количество записей
//Формат файла : 
//    Каждая строка содержит : длина ширина высота материал
int output_file(char* filename, cornice_t* arr, int n);




//Назначение: Загружает данные из файла в массив структур.
//Параметры :
//    filename - имя файла для загрузки
//    arr - указатель на массив для загрузки
//    max_size - максимальный размер массива
//Возвращает : Количество успешно загруженных записей.
int input_file(char* filename, cornice_t* arr, int max_size);




#endif